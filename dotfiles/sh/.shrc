#!/bin/sh

## environmental variables
# set PATH so it includes user's private bin if it exists
function add_path() {
  dir="$1"
  if [ -d "${dir}" ]; then
    PATH="${dir}:${PATH}"
  fi
}

add_path "${HOME}/bin"
for i in `ls -d ${HOME}/bin/*`; do
  add_path "$i"
done
add_path "${HOME}/local/bin"
export PATH


export LSCOLORS=exfxcxdxbxegedabagacad
export LS_COLORS='di=34:ln=35:so=32:pi=33:ex=31:bd=46;34:cd=43;34:su=41;30:sg=46;30:tw=42;30:ow=43;30'
#export MAIL=/var/spool/mail/${USERNAME}
#export LESS=-cex4M
export EDITOR='emacsclient -a vim -n'
export PAGER='lv'
export BROWSER='w3m'
export HTMLPAGER='w3m -T text/html -dump'
export TERMSCREEN='screen-bce'
export SVN_EDITOR='vim'
export GIT_EDITOR='vim'

# for CPAN
#export PERL5LIB=${HOME}/local/lib/perl5/5.8.8:${HOME}/local/lib/perl5/site_perl/5.8.8
#export PERL_BADLANG=0

# for Global
if [ -f ${HOME}/bin/gtags_load_libpath ]; then
    source ${HOME}/bin/gtags_load_libpath
fi

# OS specific environmental variables
case "${OS}" in
  "Linux")
  ;;
  "Darwin")
  add_path "/Applications/MacPorts/Emacs.app/Contents/MacOS/bin"
  export PATH
  export MANPATH="/usr/local/share/man:/opt/local/share/man:/Developer/usr/share/man:/usr/X11/man:/usr/share/man:${MANPATH}"
  export INFOPATH="/opt/local/share/info:/Developer/usr/share/info:/usr/share/info"
  export LANG=ja_JP.UTF-8
  ;;
  "Cygwin")
  add_path '/c/meadow/bin'
  add_path '/c/Vim'
  add_path '/c/Program\ Files/Subversion/bin'
  add_path '/c/Program\ Files/StraceNT'
  export PATH
  export TERM=cygwin
  export LANG=ja_JP.UTF-8
  export TZ='JST-9'
  export JLESSCHARSET='japanese-sjis'
  mintty_color.sh
  ;;
esac


# locales
#export LC_ALL=${LANG}
export LC_TIME=${LANG}
export LC_MONETARY=${LANG}
export LC_MESSAGES=${LANG}
export LC_CTYPE=${LANG}
export LC_NUMERIC=${LANG}
export LC_COLLATE=${LANG}


# aliases
if [ -f ${HOME}/.sh_aliases ]; then
    source ${HOME}/.sh_aliases
fi

# function
if [ -f ${HOME}/.sh_function ]; then
    source ${HOME}/.sh_function
fi

# local setting
if [ -f ${HOME}/.shrc.local ]; then
    source ${HOME}/.shrc.local
fi
